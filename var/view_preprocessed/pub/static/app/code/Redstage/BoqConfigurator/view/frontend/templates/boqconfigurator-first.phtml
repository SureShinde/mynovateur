<?php $roomBundlesCollection = $block->getRoomBundle(); $roomTypesCollection = $block->getRoomType(); $boqQuoteCollection = $block->getQuote(); $preferableSpaceAttr = $block->getProductPreferabelSpaceAttrOptions(); /*echo "<pre>"; print_r($block->getQuote());*/ ?> <div class="content"><div class="boq-easy-guide"><h3>Easy Product Selector</h3><p>Lorem Ipsum is simply dummy text of the printing and typesetting</p></div><div class="boq-container-info"><div class="preferable-wrapper-button"><p>Select your preferable home type <span class="tooltip amshopby-filter-tooltip" title="Lorem title"><img src='<?= $block->getViewFileUrl('images/Group8713.svg'); ?>' alt='' /></span></p><?php $defaultVal = 0; foreach ($preferableSpaceAttr as $key => $value) { if($value == 'Connected Home'){ echo '<button id="connected-home" class="preferable-button" data-value="'.$key.'">'.$value.'</button>'; }else if($value == 'Traditional Home'){ echo '<button id="traditional-home" class="preferable-button active" data-value="'.$key.'">'.$value.'</button>'; $defaultVal = $key; } }?> <input type="hidden" name="preferableSpace" value="<?= $defaultVal ?>"/></div><div class="roomset"><p>Select your preferable space <span class="tooltip amshopby-filter-tooltip" title="Lorem title"><img src='<?= $block->getViewFileUrl('images/Group8713.svg'); ?>' alt='' /></span></p><div class="room-layout-container"><?php $index = 1; foreach ($roomBundlesCollection as $roomBundle) { if($roomBundle['name']){ $roomTypeIds = $roomBundle['room_type_config']; $data = json_decode($roomTypeIds, TRUE); $ids = array(); foreach ($data as $key => $value) { for ($i = 0; $i < $value; $i++) { $ids[] = $key; } } ?> <a href="javascript:void(0);" class="room-bundle room-type" data-id="<?= $roomBundle['id'] ?>" data-name="<?= $roomBundle['name'] ?>" data-config-ids="<?= implode(",",$ids) ?>" id="room-type-<?= $index ?>" ><?= $roomBundle['name'] ?></a> <?php $index++; } } ?> <?php foreach ($roomTypesCollection as $roomType) { if($roomType['name']){ ?> <a href='javascript:void(0)' class='clickable-room-type room-type' id="room-type-<?= $index ?>" data-name="<?= $roomType['name'] ?>" data-id="<?= $roomType['id'] ?>" data-range-config="<?= $roomType['range_config'] ?>" >+ <?= $roomType['name'] ?></a> <?php $index++; } } ?></div></div></div></div>